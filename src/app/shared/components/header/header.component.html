<header class="header" [@headerAnimation]="isScrolled ? 'solid' : 'transparent'">
  <!-- Search Bar Overlay -->
  <div class="search-overlay" *ngIf="isSearchBarVisible" (click)="closeSearchBar()">
    <div class="search-container" (click)="$event.stopPropagation()">
      <div class="search-form">
        <input 
          type="text" 
          placeholder="Search products..." 
          [(ngModel)]="searchQuery"
          (keyup)="onSearchKeyup()"
          (keyup.enter)="performSearch()">
        <button (click)="performSearch()">
          <fa-icon [icon]="searchIcon"></fa-icon>
        </button>
        
        <!-- Search suggestions -->
        <div class="search-suggestions" *ngIf="suggestions.length > 0">
          <ul>
            <li *ngFor="let suggestion of suggestions" (click)="selectSuggestion(suggestion)">
              <fa-icon [icon]="searchIcon" class="suggestion-icon"></fa-icon>
              {{ suggestion }}
            </li>
          </ul>
        </div>
      </div>
      <button class="close-search" (click)="closeSearchBar()">
        <fa-icon [icon]="closeIcon"></fa-icon>
      </button>
    </div>
  </div>

  <div class="container">
    <div class="header-wrapper">
      <div class="logo" (click)="navigateToHome()">
        <img src="assets/icons/sbma-logo.svg" alt="SBMA Logo">
      </div>
      
      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
        <fa-icon [icon]="isMobileMenuOpen ? closeIcon : menuIcon"></fa-icon>
      </button>
      
      <nav class="navigation" [ngClass]="{'open': isMobileMenuOpen}">
        <ul class="nav-list">
          <li class="nav-item">
            <a href="#" class="nav-link active">Home</a>
          </li>
          <li class="nav-item">
            <a routerLink="/about" class="nav-link">About Us</a>
          </li>
          <li class="nav-item dropdown">
            <a [routerLink]="['/products']" class="nav-link">Products</a>
            <div class="dropdown-menu">
              <div class="dropdown-content">
                <div class="dropdown-header">
                  <h3>Our Ayurvedic Collection</h3>
                  <p>Discover the power of ancient Ayurvedic remedies, crafted with authentic herbs</p>
                </div>
                <div class="dropdown-columns">
                  <div class="dropdown-column category-column">
                    <h4>Categories</h4>
                    <div class="category-links">
                      <a [routerLink]="['/products']" [queryParams]="{category: 'Syrups'}" class="category-link">
                        <div class="category-icon"><i class="fa fa-tint"></i></div>
                        <div class="category-text">
                          <span>Syrups</span>
                          <small>Natural liquid extracts</small>
                        </div>
                      </a>
                      <a [routerLink]="['/products']" [queryParams]="{category: 'Oils'}" class="category-link">
                        <div class="category-icon"><i class="fa fa-leaf"></i></div>
                        <div class="category-text">
                          <span>Oils</span>
                          <small>Herbal massage oils</small>
                        </div>
                      </a>
                      <a [routerLink]="['/products']" [queryParams]="{category: 'Powders'}" class="category-link">
                        <div class="category-icon"><i class="fa fa-mortar-pestle"></i></div>
                        <div class="category-text">
                          <span>Powders</span>
                          <small>Pure herbal formulations</small>
                        </div>
                      </a>
                      <a [routerLink]="['/products']" [queryParams]="{category: 'Liquids'}" class="category-link">
                        <div class="category-icon"><i class="fa fa-fill-drip"></i></div>
                        <div class="category-text">
                          <span>Liquids</span>
                          <small>Potent liquid solutions</small>
                        </div>
                      </a>
                    </div>
                  </div>
                  <div class="dropdown-column featured-column">
                    <h4>Featured Products</h4>
                    <div class="featured-products">
                      <a [routerLink]="['/products']" [queryParams]="{search: 'Liver Shodhan Syrup'}" class="featured-product">
                        <div class="featured-img">
                          <img src="assets/images/products/liver-shodhan-syrup.jpg" alt="Liver Shodhan Syrup">
                        </div>
                        <div class="featured-info">
                          <h5>Liver Shodhan Syrup</h5>
                          <span class="featured-price">₹280</span>
                        </div>
                      </a>
                      <a [routerLink]="['/products']" [queryParams]="{search: 'Kesh Sudharak Oil'}" class="featured-product">
                        <div class="featured-img">
                          <img src="assets/images/products/kesh-sudharak-oil.jpg" alt="Kesh Sudharak Oil">
                        </div>
                        <div class="featured-info">
                          <h5>Kesh Sudharak Oil</h5>
                          <span class="featured-price">₹320</span>
                        </div>
                      </a>
                    </div>
                    <h4 class="mt-3">Top Sellers</h4>
                    <div class="featured-products">
                      <a [routerLink]="['/products']" [queryParams]="{search: 'Rakt Shodhak Syrup'}" class="featured-product">
                        <div class="featured-img">
                          <img src="assets/images/products/rakt-shodhak-syrup.jpg" alt="Rakt Shodhak Syrup">
                        </div>
                        <div class="featured-info">
                          <h5>Rakt Shodhak Syrup</h5>
                          <span class="featured-price">₹240</span>
                        </div>
                      </a>
                      <a [routerLink]="['/products']" [queryParams]="{search: 'Kidney Rakshak Syrup'}" class="featured-product">
                        <div class="featured-img">
                          <img src="assets/images/products/kidney-rakshak-syrup.jpg" alt="Kidney Rakshak Syrup">
                        </div>
                        <div class="featured-info">
                          <h5>Kidney Rakshak Syrup</h5>
                          <span class="featured-price">₹295</span>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
                <div class="dropdown-footer">
                  <a [routerLink]="['/products']" class="view-all-btn">View All Products <i class="fa fa-arrow-right"></i></a>
                </div>
              </div>
            </div>
          </li>
          <li class="nav-item">
            <a href="#testimonials" class="nav-link">Testimonials</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Blog</a>
          </li>
          <li class="nav-item">
            <a href="#footer" class="nav-link">Contact Us</a>
          </li>
        </ul>
      </nav>
      
      <div class="header-actions" [ngClass]="{'open': isMobileMenuOpen}">
        <a href="javascript:void(0)" class="action-link" (click)="toggleSearchBar()">
          <fa-icon [icon]="searchIcon"></fa-icon>
        </a>
        <a href="#" class="action-link">
          <fa-icon [icon]="userIcon"></fa-icon>
        </a>
        <a [routerLink]="['/products']" class="btn-primary">Buy Now</a>
      </div>
    </div>
  </div>
</header>
