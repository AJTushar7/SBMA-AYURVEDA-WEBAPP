
<div class="category-products-section">
  <div class="section-title-container">
    <h2 class="section-title">Click on a Category <span class="arrow">↓</span></h2>
  </div>
  
  <div class="categories-scroll" [class.mobile]="isMobile">
    <div class="categories" [class.accordion]="isMobile">
      <ng-container *ngFor="let category of categories">
        <div class="category-item" [class.mobile]="isMobile">
          <button 
            [class.active]="selectedCategory === category"
            (click)="selectCategory(category)"
            class="category-btn">
            {{ category }}
            <span class="accordion-icon" *ngIf="isMobile">{{ selectedCategory === category ? '−' : '+' }}</span>
          </button>
          <div class="category-content" *ngIf="isMobile && selectedCategory === category">
            <div class="product-list">
              <div *ngFor="let product of products" class="product-preview">
                {{ product.name }}
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

  <div class="products-grid">
    <div class="nav-arrows" *ngIf="isMobile">
      <button (click)="previousProduct()" [disabled]="currentProductIndex === 0">
        ←
      </button>
      <button (click)="nextProduct()" [disabled]="currentProductIndex >= products.length - 1">
        →
      </button>
    </div>
    
    <div class="product-card" 
         *ngFor="let product of displayedProducts" 
         [routerLink]="['/products', product.id]">
      <div class="badge" *ngIf="product.tag">{{ product.tag }}</div>
      <div class="product-image">
        <img [src]="hoveredProduct === product.id ? product.hoverImageUrl : product.imageUrl" 
             [alt]="product.name"
             (mouseenter)="hoveredProduct = product.id"
             (mouseleave)="hoveredProduct = null">
      </div>
      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p class="price">From Rs. {{ product.price }}</p>
      </div>
    </div>
  </div>
</div>
